
# 🎮 Discord Points Minigame Bot

A comprehensive Discord bot that implements a points system designed to increase interaction, reward engagement, and gamify the experience in your Discord community. Members can earn, use, and convert points for real rewards like gift cards!

## ✨ Features

### 💎 Points System
- **Daily Claims**: Users can claim daily rewards with streak bonuses (up to 3x multiplier)
- **Streak System**: Consecutive daily claims increase rewards within 36-hour windows
- **Point Transfers**: Users can send points to each other securely
- **Persistent Data**: All data automatically saved and restored on bot restart
- **Gift Card Redemption**: Convert diamonds to real gift cards (Steam, Amazon, Netflix, etc.)

### 🎲 Interactive Minigames
- **Coinflip Game**: Interactive modal-based betting with 2x multiplier
- **Dice Game**: Guess numbers 1-6 for 5x multiplier rewards
- **Lucky Slots**: Auto-spin slot machine with up to 12x jackpot
- **Point Drops**: Admin-triggered community events with countdown timers
- **Interactive UI**: All games use Discord buttons and modals for seamless experience

### 🎁 Reward System
- **Gift Card Store**: Steam, Amazon, Spotify, Netflix, Google Play cards
- **Automatic Processing**: DM notifications and admin request tracking
- **Inventory Tracking**: Complete history of redeemed rewards
- **Real Value Conversion**: 100 Diamonds = 1 Rupee system

### 📊 Advanced Features
- **3D ASCII Art**: Beautiful visual displays throughout the bot
- **Interactive Panels**: Auto-refreshing daily claim and gambling panels
- **Leaderboards**: Top 10 richest players with medals and rankings
- **Statistics Tracking**: Total earned, spent, streaks, and gift card history
- **Auto-Cleanup**: Automatic removal of old bot messages

## 🚀 Setup Instructions

### 1. Fork the Template
1. Login to Replit
2. Fork this template by clicking the **Use Template** button
3. Name your repl (e.g., "discord-points-bot")

### 2. Discord Bot Setup
1. Go to [Discord Developer Portal](https://discord.com/developers/applications)
2. Create a new application or select existing one
3. Go to the "Bot" section and copy the bot token
4. In your Replit, go to the **Secrets** tab (🔒 icon in sidebar)
5. Add a new secret:
   - Key: `DISCORD_BOT_TOKEN`
   - Value: Your bot token

### 3. Bot Permissions & Invite
Your bot needs these permissions:
- **Send Messages** - For all bot responses
- **Use Slash Commands** - For command functionality
- **Manage Messages** - For cleanup operations
- **Read Message History** - For channel management
- **Embed Links** - For rich embeds
- **Add Reactions** - For interactive features

**Quick Invite Link:**
Go to OAuth2 > URL Generator in Discord Developer Portal:
- Scopes: `bot`, `applications.commands`
- Bot Permissions: Select all permissions listed above

### 4. Channel Configuration
Update the `CHANNELS` dictionary in `main.py` with your Discord channel IDs:

```python
CHANNELS = {
    'daily_claims': YOUR_DAILY_CLAIMS_CHANNEL_ID,
    'point_drops': YOUR_POINT_DROPS_CHANNEL_ID,
    'leaderboard': YOUR_LEADERBOARD_CHANNEL_ID,
    'transfers': YOUR_TRANSFERS_CHANNEL_ID,
    'gambling': YOUR_GAMBLING_CHANNEL_ID,
    'general': None  # Optional: allows leaderboard in general
}
```

### 5. Deploy the Bot
1. Click the **Deploy** button in Replit
2. Choose **Reserved VM Deployment** (recommended for 24/7 bots)
3. Click **Deploy** to make your bot run continuously

## 📝 Commands & Features

### User Commands
| Command | Channel | Description |
|---------|---------|-------------|
| `/claim_daily` | daily_claims | Claim your 24-hour reward with streak bonus |
| `/get_points [user]` | transfers | Check points for yourself or another user |
| `/transfer_points <user> <amount>` | transfers | Send points to another user |
| `/gambling_menu` | gambling | Access interactive casino with all games |
| `/redeem_gift_card` | any | Convert diamonds to gift cards |
| `/leaderboard` | leaderboard/general | View top 10 point holders |

### Admin Commands
| Command | Description |
|---------|-------------|
| `/drop_points` | Create manual point drop with interactive countdown |
| `/send_daily_claim` | Manually refresh daily claim panel |

### Interactive Features
- **Daily Claim Panel**: Persistent button for 24-hour claims
- **Gambling Casino**: Interactive buttons for all games
- **Gift Card Dropdown**: Select from 5 different gift card options
- **Point Drop Events**: Countdown timers with claiming buttons

## 🎮 Game Mechanics

### 🎲 Dice Game
- **How to Play**: Choose number 1-6, set your bet (min 10 💎)
- **Payout**: 5x your bet if you guess correctly
- **Interface**: Modal form with number and bet input

### 🪙 Coinflip Game
- **How to Play**: Choose heads/tails (H/T shortcuts work), set bet
- **Payout**: 2x your bet for correct guess
- **Interface**: Modal form with choice and bet input

### 🎰 Lucky Slots
- **How to Play**: Auto-spin with 30 💎 fixed bet
- **Symbols**: 🍒🍋🍊💎⭐🍀 with different rarities
- **Payouts**: 
  - 3x same symbol: 3x multiplier
  - 3x 💎: 10x multiplier
  - 3x ⭐: 8x multiplier  
  - 3x 🍀: 12x multiplier (jackpot!)

## 🎁 Gift Card System

### Available Cards
| Card | Cost | Emoji |
|------|------|-------|
| Gift Card | 1000 💎 | 🎮 |

### Redemption Process
1. Use `/redeem_gift_card` command
2. Select desired card from dropdown
3. Automatic point deduction
4. DM sent with confirmation details
5. Admin receives processing request
6. Gift card delivered within 24 hours

## 🔧 Advanced Configuration

### Auto-Features
- **24H Daily Reset**: Automatic daily claim panel refresh
- **Auto-Save**: Data saved every 5 minutes
- **Message Cleanup**: Old bot messages automatically removed
- **Startup Recovery**: All panels restored on bot restart

### Point Economy Settings
```python
'settings': {
    'daily_reward': 50,           # Base daily claim amount
    'max_streak_multiplier': 3.0, # Maximum streak bonus
    'conversion_rate': 100,       # Diamonds per Rupee
}
```

### Channel Restrictions
Each command is restricted to specific channels for organized gameplay:
- **Daily Claims**: Only in designated daily claims channel
- **Gambling**: Only in casino channel
- **Transfers**: Only in transfers channel
- **Leaderboard**: In leaderboard channel (+ general if enabled)

## 💾 Data Persistence & Security

### Automatic Data Management
- **JSON Storage**: All data stored in `bot_data.json`
- **Auto-Backup**: Saves every 5 minutes and on major actions
- **Crash Recovery**: Complete data restoration on restart
- **User Tracking**: Points, streaks, earnings, spending, gift card history

### Security Features
- **Input Validation**: All user inputs validated and sanitized
- **Permission Checks**: Admin commands require proper Discord permissions
- **Rate Limiting**: Built-in cooldowns prevent abuse
- **Error Handling**: Comprehensive error catching and logging
- **Channel Restrictions**: Commands limited to appropriate channels

### Data Structure
```json
{
  "users": {
    "user_id": {
      "points": 0,
      "last_claim": "timestamp",
      "streak": 0,
      "total_earned": 0,
      "total_spent": 0,
      "inventory": [],
      "gift_cards_redeemed": []
    }
  },
  "settings": { ... },
  "gift_card_requests": { ... }
}
```

## 🎯 Point Economy Design

### Earning Opportunities
- **Daily Claims**: 50-150 💎 (streak multiplied)
- **Point Drops**: Admin events (10 💎 per claim)
- **Transfers**: Receive from other users
- **Future**: Giveaways, events, special activities

### Spending Options
- **Gambling**: Risk points for potential multipliers
- **Gift Cards**: Convert to real-world rewards
- **Transfers**: Send to friends and community members
- **Future**: Special roles, exclusive access

### Conversion Rate
- **100 Diamonds = 1 Rupee**
- **Purpose**: VIRTUAL redemption system
- **Example**: 1000 💎 PCRP card = 10 Rupees value

## 🛠️ Technical Features

### Modern Discord Integration
- **Slash Commands**: All commands use modern Discord API
- **Interactive Components**: Buttons, modals, dropdowns
- **Embeds**: Rich, colorful message formatting
- **Ephemeral Responses**: Private error messages
- **Auto-Sync**: Commands automatically register

### Performance Optimizations
- **Async Operations**: Non-blocking file operations
- **Batch Processing**: Efficient data handling
- **Memory Management**: Optimized data structures
- **Rate Limit Handling**: Built-in Discord API respect

### 3D Visual Design
- **ASCII Art**: Beautiful visual displays
- **Color Coding**: Consistent embed colors
- **Emojis**: Rich emoji usage throughout
- **Animations**: Countdown timers and progress displays

## 🐛 Troubleshooting

### Common Issues

**Bot Not Responding:**
1. Verify `DISCORD_BOT_TOKEN` in Secrets tab
2. Check bot permissions in Discord server
3. Review console logs for errors
4. Ensure bot is online and running

**Commands Not Appearing:**
1. Bot needs `applications.commands` scope when invited
2. Try removing and re-inviting bot with correct permissions
3. Commands auto-sync on startup (check console)

**Data Not Saving:**
1. Check console for save error messages
2. Verify file write permissions
3. Ensure sufficient Replit storage space
4. Monitor `bot_data.json` file updates

**Channel Errors:**
1. Update channel IDs in `CHANNELS` dictionary
2. Ensure bot has permissions in all configured channels
3. Verify channel IDs are correct (right-click channel → Copy ID)

### Console Monitoring
Watch for these success messages:
- `✅ Daily claim panel sent on startup`
- `✅ Leaderboard sent on startup`  
- `Synced X command(s)`
- `Loaded data for X users`

## 🚀 Future Enhancements

### Planned Features
- [ ] **Weekly Challenges**: Special streak challenges with bonus rewards
- [ ] **Achievement System**: Unlock titles and badges
- [ ] **Point Shop**: Exclusive server perks and custom roles
- [ ] **Tournament Mode**: Community competitions
- [ ] **Analytics Dashboard**: Detailed statistics and graphs
- [ ] **API Integration**: Direct gift card delivery automation

### Community Features
- [ ] **Guild System**: Team-based point competitions
- [ ] **Seasonal Events**: Holiday-themed point bonuses
- [ ] **Custom Rewards**: Server-specific reward options
- [ ] **Social Features**: Friend lists and point sharing

## 📊 Analytics & Insights

The bot tracks comprehensive statistics:
- **User Engagement**: Daily active users, retention rates
- **Economy Health**: Point distribution, spending patterns
- **Game Popularity**: Most played games, average bets
- **Reward Trends**: Popular gift cards, conversion rates

## 🤝 Community Support

### Getting Help
1. **Check Console**: Review Replit console for error details
2. **Verify Setup**: Ensure all setup steps completed correctly
3. **Test Permissions**: Confirm bot has all required Discord permissions
4. **Update Channels**: Make sure channel IDs are correctly configured

### Best Practices
- **Regular Monitoring**: Check bot status and console logs
- **Data Backups**: Regularly backup `bot_data.json`
- **Permission Management**: Keep bot permissions up to date
- **Community Guidelines**: Set clear rules for point usage

## 📜 License & Credits

This project is open source and available under the MIT License.

**Created for Discord communities to increase engagement and reward active members!** 🎉

---

### Quick Start Checklist
- [ ] Fork template on Replit
- [ ] Create Discord bot and get token
- [ ] Add token to Replit Secrets
- [ ] Update channel IDs in code
- [ ] Invite bot with proper permissions
- [ ] Deploy on Replit Reserved VM
- [ ] Test all commands and features
- [ ] Configure gift card delivery process

**Your Discord Points Bot is ready to gamify your community! 🚀**
